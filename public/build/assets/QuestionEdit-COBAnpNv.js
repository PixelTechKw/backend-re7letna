import{J as h,x as f,l as a,j as s,t as u,e as c,y as b,d as j,S as y}from"./app-CYV7TA4T.js";import{I as l}from"./InputError-bhT0s5nU.js";import{I as n}from"./InputLabel-qNGu6vMv.js";import{T as N}from"./TextInput-BLj2OH66.js";import{A as v}from"./AuthenticatedLayout-7qxwF8-h.js";import{S as x}from"./react-select.esm-C82rLdgA.js";import{A as w}from"./arrow-left-BF1XiIxu.js";import"./Modal-DhII7eZ0.js";import"./transition-Dd03FCjL.js";import"./use-server-handoff-complete-QwfSIa-D.js";import"./dialog-DOuY97ct.js";import"./portal-D7cAmXoc.js";import"./hooks-3Luaan-F.js";import"./XMarkIcon-Ctvdlbfd.js";import"./createLucideIcon-CyJOE8nb.js";import"./MainHead-B3qo6eg-.js";import"./setPrototypeOf-DgZC2w_0.js";function Q({element:r,categories:m}){const{ziggy:{query:q}}=h().props,{data:d,setData:t,processing:p,errors:o}=f({name:r.name,description:r.description,questionnaire_id:r.questionnaire_id,answers:r.answers,categories:a.map(r.categories,"id"),order:r.order}),g=e=>{e.preventDefault(),y.post(route("backend.question.update",r.id),{_method:"put",...d},{forceFormData:!0,preserveScroll:!0})};return s.jsx(v,{header:a.capitalize("edit question"),children:s.jsx("form",{onSubmit:g,className:"flex flex-1 flex-col gap-y-2 ",children:s.jsxs("section",{className:"flex flex-col w-full bg-white p-4 gap-y-4 rounded-xl my-1",children:[s.jsxs("div",{className:"flex flex-row gap-x-4 justify-start items-center capitalize",children:[s.jsx(u,{href:route("backend.question.index",{questionnaire_id:r.questionnaire_id}),className:"p-4 bg-gray-100 border border-gray-200 rounded-2xl",children:s.jsx(w,{})}),s.jsx("div",{className:"header-one my-4",children:"edit question"})]}),s.jsxs("div",{className:"grid sm:grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:[s.jsx("div",{className:"col-span-1",children:s.jsxs("div",{children:[s.jsx(n,{htmlFor:"name",value:"name",className:"required capitalize"}),s.jsx(N,{id:"name",name:"name",required:!0,"aria-required":!0,onChange:e=>t("name",e.target.value),defaultValue:d.name,className:"block w-full px-4 py-2 mt-2 "}),s.jsx(l,{message:a.get(o,"name"),className:"mt-2"})]})}),s.jsxs("div",{className:"col-span-1",children:[s.jsx(n,{htmlFor:"answers",value:"answers",className:"capitalize required"}),s.jsx(x,{name:"answers",isMulti:!1,required:!0,options:a.map(c,(e,i)=>({label:e.label,value:e.value})),onChange:e=>{t("answers",e.label==="yes-no"?b:j)},defaultValue:r.answers.length===3?c[1]:c[0],className:"basic-multi-select pt-2 capitalize",classNamePrefix:"select select-box capitalize",placeholder:"choose stage",styles:{control:(e,i)=>({...e,borderColor:i.isFocused?"#75641F":"lightgrey",borderRadius:10,padding:8})},theme:e=>({...e,colors:{...e.colors,primary25:"#C5A835",primary:"#C5A835",dangerLight:"#C5A835"}})}),s.jsx(l,{message:a.get(o,"answers"),className:"mt-2"})]})]}),m?s.jsxs("div",{className:"col-span-1",children:[s.jsx(n,{htmlFor:"categories",value:"categories"}),s.jsx(x,{isMulti:!0,name:"categories",options:a.map(m,(e,i)=>({label:e.name,value:e.id})),onChange:e=>{const i=a.map(e,"value");t("categories",i)},defaultValue:a.map(r.categories,e=>({label:a.truncate(e.name,{length:15}),value:e.id})),className:"basic-multi-select pt-2",classNamePrefix:"select select-box ",placeholder:"categories",styles:{control:(e,i)=>({...e,borderColor:i.isFocused?"#75641F":"lightgrey",borderRadius:10,padding:8})},theme:e=>({...e,colors:{...e.colors,primary25:"#C5A835",primary:"#C5A835",dangerLight:"#C5A835"}})}),s.jsx(l,{message:a.get(o,"categories"),className:"mt-2"})]}):null,s.jsxs("div",{className:"col-span-full",children:[s.jsx(n,{htmlFor:"description",value:"description",className:"capitalize pb-4 required"}),s.jsx("textarea",{id:"description",name:"description",rows:5,maxLength:1e3,onChange:e=>t("description",e.target.value),defaultValue:d.description,className:"block w-full px-4 py-2 mt-2 text-gray-700 rounded-xl border border-gray-200 focus:border-none focus:ring focus:ring-prime-700"}),s.jsx(l,{message:a.get(o,"description"),className:"mt-2"})]}),s.jsxs("div",{className:"flex flex-row justify-end items-end w-full gap-x-4 my-6",children:[s.jsx(u,{href:route("backend.question.index"),className:"text-center  rounded-3xl p-3 px-6 w-24 border border-prime-700 text-prime-700 hover:border-red-700 hover:text-red-700 capitalize",disabled:p,children:"cancel"}),s.jsx("button",{className:"text-center  rounded-3xl p-3 px-6 w-24 bg-prime-700 text-white hover:bg-prime-900 capitalize",disabled:p,children:"save"})]})]})})})}export{Q as default};
